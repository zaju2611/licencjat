"use strict";var prevMouseX,prevMouseY,snapshot,colorDiv=document.querySelector(".setColor"),colorPicker=document.getElementById("color-picker"),canvas=document.querySelector(".canvas"),ctx=canvas.getContext("2d",{willReadFrequently:!0}),toolsBtns=document.querySelectorAll(".tool"),fillColor=document.querySelector("#fill-color"),sizeSlider=document.querySelector("#size-slider"),colorsBtns=document.querySelectorAll(".colors .option"),clearCanvas=document.querySelector(".clear-canvas"),isDrawing=!1,brushWidth=5,selectedTool="brush",selectedColor="#000000",setColor=(window.addEventListener("load",function(){canvas.width=canvas.offsetWidth,canvas.height=canvas.offsetHeight}),function(){colorDiv.style.backgroundColor=colorPicker.value,selectedColor=colorPicker.value}),startDraw=function(e){isDrawing=!0,prevMouseX=e.offsetX,prevMouseY=e.offsetY,ctx.beginPath(),ctx.lineWidth=brushWidth,ctx.strokeStyle=selectedColor,ctx.fillStyle=selectedColor,snapshot=ctx.getImageData(0,0,canvas.width,canvas.height)},stopDraw=function(){isDrawing=!1},drawRect=function(e){if(!fillColor.checked)return ctx.strokeRect(e.offsetX,e.offsetY,prevMouseX-e.offsetX,prevMouseY-e.offsetY);ctx.fillRect(e.offsetX,e.offsetY,prevMouseX-e.offsetX,prevMouseY-e.offsetY)},drawCircle=function(e){ctx.beginPath();e=Math.sqrt(Math.pow(prevMouseX-e.offsetX,2)+Math.pow(prevMouseY-e.offsetY,2));if(ctx.arc(prevMouseX,prevMouseY,e,0,2*Math.PI),fillColor.checked)return ctx.fill();ctx.stroke()},drawTriangle=function(e){if(ctx.beginPath(),ctx.moveTo(prevMouseX,prevMouseY),ctx.lineTo(e.offsetX,e.offsetY),ctx.lineTo(2*prevMouseX-e.offsetX,e.offsetY),ctx.closePath(),fillColor.checked)return ctx.fill();ctx.stroke()},drawLine=function(e){ctx.beginPath(),ctx.moveTo(prevMouseX,prevMouseY),ctx.lineTo(e.offsetX,e.offsetY),ctx.stroke()},removeDrawing=function(e){ctx.strokeStyle="#fff",ctx.lineTo(e.offsetX,e.offsetY),ctx.stroke()},drawing=function(e){if(isDrawing)switch(ctx.putImageData(snapshot,0,0),selectedTool){case"brush":ctx.lineTo(e.offsetX,e.offsetY),ctx.stroke();break;case"rectangle":drawRect(e);break;case"circle":drawCircle(e);break;case"triangle":drawTriangle(e);break;case"line":drawLine(e);break;case"eraser":removeDrawing(e)}};toolsBtns.forEach(function(e){e.addEventListener("click",function(){document.querySelector(".options .active").classList.remove("active"),e.classList.add("active"),selectedTool=e.id,console.log(selectedTool)})}),colorDiv.addEventListener("input",setColor),sizeSlider.addEventListener("change",function(){brushWidth=sizeSlider.value}),colorsBtns.forEach(function(e){e.addEventListener("click",function(){document.querySelector(".options .selected").classList.remove("selected"),e.classList.add("selected"),selectedColor=window.getComputedStyle(e).getPropertyValue("background-color")})}),clearCanvas.addEventListener("click",function(){ctx.clearRect(0,0,canvas.width,canvas.height)}),canvas.addEventListener("mousedown",startDraw),canvas.addEventListener("mouseup",stopDraw),canvas.addEventListener("mousemove",drawing);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyYXcuanMiXSwibmFtZXMiOlsiY2xlYXJDYW52YXMiLCJwcmV2TW91c2VZIiwicXVlcnlTZWxlY3RvciIsImNvbG9yRGl2IiwiZG9jdW1lbnQiLCJjb2xvclBpY2tlciIsImdldEVsZW1lbnRCeUlkIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpbGxSZWFkRnJlcXVlbnRseSIsImNvbG9yc0J0bnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidG9vbHNCdG5zIiwiZmlsbENvbG9yIiwic2l6ZVNsaWRlciIsImlzRHJhd2luZyIsIndpbmRvdyIsInNlbGVjdGVkVG9vbCIsInByZXZNb3VzZVgiLCJzZWxlY3RlZENvbG9yIiwib2Zmc2V0SGVpZ2h0Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ2YWx1ZSIsInNldENvbG9yIiwic3RhcnREcmF3IiwiZSIsIm9mZnNldFgiLCJvZmZzZXRZIiwibGluZVdpZHRoIiwiYnJ1c2hXaWR0aCIsInN0cm9rZVN0eWxlIiwiZmlsbFN0eWxlIiwic25hcHNob3QiLCJnZXRJbWFnZURhdGEiLCJ3aWR0aCIsImhlaWdodCIsInN0b3BEcmF3IiwiZHJhd1JlY3QiLCJjaGVja2VkIiwic3Ryb2tlUmVjdCIsImZpbGxSZWN0IiwibGluZVRvIiwiYmVnaW5QYXRoIiwicmFkaXVzIiwiY2xvc2VQYXRoIiwic3FydCIsIk1hdGgiLCJwb3ciLCJhcmMiLCJQSSIsImZpbGwiLCJzdHJva2UiLCJyZW1vdmVEcmF3aW5nIiwiZHJhd2luZyIsInB1dEltYWdlRGF0YSIsIm1vdmVUbyIsImRyYXdDaXJjbGUiLCJkcmF3VHJpYW5nbGUiLCJkcmF3TGluZSIsImJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGVhclJlY3QiLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJjb25zb2xlIiwibG9nIiwiZm9yRWFjaCIsImFkZCIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIl0sIm1hcHBpbmdzIjoiYUFBQSxJQVFNQSxX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RUFBRyxFQUFHeEQsT0FBTzZCLE1BQU83QixPQUFPOEIsTUFBTSxDQUNoRCxDQUFDLEVBRUQ5QixPQUFPdUQsaUJBQWlCLFlBQWFwQyxTQUFTLEVBQzlDbkIsT0FBT3VELGlCQUFpQixVQUFXeEIsUUFBUSxFQUMzQy9CLE9BQU91RCxpQkFBaUIsWUFBYVAsT0FBTyIsImZpbGUiOiJkcmF3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNldENvbG9yXCIpO1xyXG5jb25zdCBjb2xvclBpY2tlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sb3ItcGlja2VyXCIpO1xyXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbnZhc1wiKTtcclxuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiLCB7IHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSB9KTtcclxuY29uc3QgdG9vbHNCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50b29sXCIpO1xyXG5jb25zdCBmaWxsQ29sb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZpbGwtY29sb3JcIik7XHJcbmNvbnN0IHNpemVTbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NpemUtc2xpZGVyXCIpO1xyXG5jb25zdCBjb2xvcnNCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb2xvcnMgLm9wdGlvblwiKTtcclxuY29uc3QgY2xlYXJDYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsZWFyLWNhbnZhc1wiKTtcclxubGV0IGlzRHJhd2luZyA9IGZhbHNlO1xyXG5sZXQgYnJ1c2hXaWR0aCA9IDU7XHJcbmxldCBzZWxlY3RlZFRvb2wgPSBcImJydXNoXCI7XHJcbmxldCBwcmV2TW91c2VYLCBwcmV2TW91c2VZLCBzbmFwc2hvdDtcclxubGV0IHNlbGVjdGVkQ29sb3IgPSBcIiMwMDAwMDBcIjtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcblx0Y2FudmFzLndpZHRoID0gY2FudmFzLm9mZnNldFdpZHRoO1xyXG5cdGNhbnZhcy5oZWlnaHQgPSBjYW52YXMub2Zmc2V0SGVpZ2h0O1xyXG59KTtcclxuXHJcbmNvbnN0IHNldENvbG9yID0gKCkgPT4ge1xyXG5cdGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yUGlja2VyLnZhbHVlO1xyXG5cdHNlbGVjdGVkQ29sb3IgPSBjb2xvclBpY2tlci52YWx1ZTtcclxufTtcclxuXHJcbmNvbnN0IHN0YXJ0RHJhdyA9IChlKSA9PiB7XHJcblx0aXNEcmF3aW5nID0gdHJ1ZTtcclxuXHRwcmV2TW91c2VYID0gZS5vZmZzZXRYO1xyXG5cdHByZXZNb3VzZVkgPSBlLm9mZnNldFk7XHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5saW5lV2lkdGggPSBicnVzaFdpZHRoO1xyXG5cdGN0eC5zdHJva2VTdHlsZSA9IHNlbGVjdGVkQ29sb3I7XHJcblx0Y3R4LmZpbGxTdHlsZSA9IHNlbGVjdGVkQ29sb3I7XHJcblx0c25hcHNob3QgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbn07XHJcblxyXG5jb25zdCBzdG9wRHJhdyA9ICgpID0+IHtcclxuXHRpc0RyYXdpbmcgPSBmYWxzZTtcclxufTtcclxuXHJcbmNvbnN0IGRyYXdSZWN0ID0gKGUpID0+IHtcclxuXHRpZiAoIWZpbGxDb2xvci5jaGVja2VkKSB7XHJcblx0XHRyZXR1cm4gY3R4LnN0cm9rZVJlY3QoXHJcblx0XHRcdGUub2Zmc2V0WCxcclxuXHRcdFx0ZS5vZmZzZXRZLFxyXG5cdFx0XHRwcmV2TW91c2VYIC0gZS5vZmZzZXRYLFxyXG5cdFx0XHRwcmV2TW91c2VZIC0gZS5vZmZzZXRZXHJcblx0XHQpO1xyXG5cdH1cclxuXHRjdHguZmlsbFJlY3QoXHJcblx0XHRlLm9mZnNldFgsXHJcblx0XHRlLm9mZnNldFksXHJcblx0XHRwcmV2TW91c2VYIC0gZS5vZmZzZXRYLFxyXG5cdFx0cHJldk1vdXNlWSAtIGUub2Zmc2V0WVxyXG5cdCk7XHJcbn07XHJcblxyXG5jb25zdCBkcmF3Q2lyY2xlID0gKGUpID0+IHtcclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblx0bGV0IHJhZGl1cyA9IE1hdGguc3FydChcclxuXHRcdE1hdGgucG93KHByZXZNb3VzZVggLSBlLm9mZnNldFgsIDIpICsgTWF0aC5wb3cocHJldk1vdXNlWSAtIGUub2Zmc2V0WSwgMilcclxuXHQpO1xyXG5cdGN0eC5hcmMocHJldk1vdXNlWCwgcHJldk1vdXNlWSwgcmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XHJcblx0aWYgKGZpbGxDb2xvci5jaGVja2VkKSB7XHJcblx0XHRyZXR1cm4gY3R4LmZpbGwoKTtcclxuXHR9XHJcblx0Y3R4LnN0cm9rZSgpO1xyXG59O1xyXG5cclxuY29uc3QgZHJhd1RyaWFuZ2xlID0gKGUpID0+IHtcclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblx0Y3R4Lm1vdmVUbyhwcmV2TW91c2VYLCBwcmV2TW91c2VZKTtcclxuXHRjdHgubGluZVRvKGUub2Zmc2V0WCwgZS5vZmZzZXRZKTtcclxuXHRjdHgubGluZVRvKHByZXZNb3VzZVggKiAyIC0gZS5vZmZzZXRYLCBlLm9mZnNldFkpO1xyXG5cdGN0eC5jbG9zZVBhdGgoKTtcclxuXHRpZiAoZmlsbENvbG9yLmNoZWNrZWQpIHtcclxuXHRcdHJldHVybiBjdHguZmlsbCgpO1xyXG5cdH1cclxuXHRjdHguc3Ryb2tlKCk7XHJcbn07XHJcblxyXG5jb25zdCBkcmF3TGluZSA9IChlKSA9PiB7XHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5tb3ZlVG8ocHJldk1vdXNlWCwgcHJldk1vdXNlWSk7XHJcblx0Y3R4LmxpbmVUbyhlLm9mZnNldFgsIGUub2Zmc2V0WSk7XHJcblx0Y3R4LnN0cm9rZSgpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlRHJhd2luZyA9IChlKSA9PiB7XHJcblx0Y3R4LnN0cm9rZVN0eWxlID0gXCIjZmZmXCI7XHJcblx0Y3R4LmxpbmVUbyhlLm9mZnNldFgsIGUub2Zmc2V0WSk7XHJcblx0Y3R4LnN0cm9rZSgpO1xyXG59O1xyXG5cclxuY29uc3QgZHJhd2luZyA9IChlKSA9PiB7XHJcblx0aWYgKCFpc0RyYXdpbmcpIHJldHVybjtcclxuXHRjdHgucHV0SW1hZ2VEYXRhKHNuYXBzaG90LCAwLCAwKTtcclxuXHJcblx0c3dpdGNoIChzZWxlY3RlZFRvb2wpIHtcclxuXHRcdGNhc2UgXCJicnVzaFwiOlxyXG5cdFx0XHRjdHgubGluZVRvKGUub2Zmc2V0WCwgZS5vZmZzZXRZKTtcclxuXHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCJyZWN0YW5nbGVcIjpcclxuXHRcdFx0ZHJhd1JlY3QoZSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcImNpcmNsZVwiOlxyXG5cdFx0XHRkcmF3Q2lyY2xlKGUpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCJ0cmlhbmdsZVwiOlxyXG5cdFx0XHRkcmF3VHJpYW5nbGUoZSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcImxpbmVcIjpcclxuXHRcdFx0ZHJhd0xpbmUoZSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcImVyYXNlclwiOlxyXG5cdFx0XHRyZW1vdmVEcmF3aW5nKGUpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxufTtcclxuXHJcbnRvb2xzQnRucy5mb3JFYWNoKChidG4pID0+IHtcclxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3B0aW9ucyAuYWN0aXZlXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblx0XHRidG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHRcdHNlbGVjdGVkVG9vbCA9IGJ0bi5pZDtcclxuXHRcdGNvbnNvbGUubG9nKHNlbGVjdGVkVG9vbCk7XHJcblx0fSk7XHJcbn0pO1xyXG5cclxuY29sb3JEaXYuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHNldENvbG9yKTtcclxuXHJcbnNpemVTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcblx0YnJ1c2hXaWR0aCA9IHNpemVTbGlkZXIudmFsdWU7XHJcbn0pO1xyXG5cclxuY29sb3JzQnRucy5mb3JFYWNoKChidG4pID0+IHtcclxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3B0aW9ucyAuc2VsZWN0ZWRcIikuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xyXG5cdFx0YnRuLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcclxuXHRcdHNlbGVjdGVkQ29sb3IgPSB3aW5kb3dcclxuXHRcdFx0LmdldENvbXB1dGVkU3R5bGUoYnRuKVxyXG5cdFx0XHQuZ2V0UHJvcGVydHlWYWx1ZShcImJhY2tncm91bmQtY29sb3JcIik7XHJcblx0fSk7XHJcbn0pO1xyXG5cclxuY2xlYXJDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbn0pO1xyXG5cclxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgc3RhcnREcmF3KTtcclxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHN0b3BEcmF3KTtcclxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZHJhd2luZyk7XHJcbiJdfQ==
