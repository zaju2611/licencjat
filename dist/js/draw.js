"use strict";var prevMouseX,prevMouseY,snapshot,colorDiv=document.querySelector(".setColor"),colorPicker=document.getElementById("color-picker"),canvas=document.querySelector(".canvas"),ctx=canvas.getContext("2d",{willReadFrequently:!0}),toolsBtns=document.querySelectorAll(".tool"),fillColor=document.querySelector("#fill-color"),sizeSlider=document.querySelector("#size-slider"),colorsBtns=document.querySelectorAll(".colors .option"),clearCanvas=document.querySelector(".clear-canvas"),answerCard=document.querySelector(".mainDraw_container-cards-container-answer-board"),drawingCard=document.querySelector(".mainDraw_container-cards-container-drawing-board"),checkBtn=document.querySelector(".check-answer"),answerBtns=document.querySelectorAll(".button-answer"),isDrawing=!1,brushWidth=5,selectedTool="brush",selectedColor="#000000",data=0,setColor=(window.addEventListener("load",function(){canvas.width=canvas.offsetWidth,canvas.height=canvas.offsetHeight}),function(){colorDiv.style.backgroundColor=colorPicker.value,selectedColor=colorPicker.value}),startDraw=function(e){isDrawing=!0,prevMouseX=e.offsetX,prevMouseY=e.offsetY,ctx.beginPath(),ctx.lineWidth=brushWidth,ctx.strokeStyle=selectedColor,ctx.fillStyle=selectedColor,snapshot=ctx.getImageData(0,0,canvas.width,canvas.height)},stopDraw=function(){isDrawing=!1},drawRect=function(e){if(!fillColor.checked)return ctx.strokeRect(e.offsetX,e.offsetY,prevMouseX-e.offsetX,prevMouseY-e.offsetY);ctx.fillRect(e.offsetX,e.offsetY,prevMouseX-e.offsetX,prevMouseY-e.offsetY)},drawCircle=function(e){ctx.beginPath();e=Math.sqrt(Math.pow(prevMouseX-e.offsetX,2)+Math.pow(prevMouseY-e.offsetY,2));if(ctx.arc(prevMouseX,prevMouseY,e,0,2*Math.PI),fillColor.checked)return ctx.fill();ctx.stroke()},drawTriangle=function(e){if(ctx.beginPath(),ctx.moveTo(prevMouseX,prevMouseY),ctx.lineTo(e.offsetX,e.offsetY),ctx.lineTo(2*prevMouseX-e.offsetX,e.offsetY),ctx.closePath(),fillColor.checked)return ctx.fill();ctx.stroke()},drawLine=function(e){ctx.beginPath(),ctx.moveTo(prevMouseX,prevMouseY),ctx.lineTo(e.offsetX,e.offsetY),ctx.stroke()},removeDrawing=function(e){ctx.strokeStyle="#fff",ctx.lineTo(e.offsetX,e.offsetY),ctx.stroke()},drawing=function(e){if(isDrawing)switch(ctx.putImageData(snapshot,0,0),selectedTool){case"brush":ctx.lineTo(e.offsetX,e.offsetY),ctx.stroke();break;case"rectangle":drawRect(e);break;case"circle":drawCircle(e);break;case"triangle":drawTriangle(e);break;case"line":drawLine(e);break;case"eraser":removeDrawing(e)}};toolsBtns.forEach(function(e){e.addEventListener("click",function(){document.querySelector(".options .active").classList.remove("active"),e.classList.add("active"),selectedTool=e.id,console.log(selectedTool)})}),colorDiv.addEventListener("input",setColor),sizeSlider.addEventListener("change",function(){brushWidth=sizeSlider.value}),colorsBtns.forEach(function(e){e.addEventListener("click",function(){document.querySelector(".options .selected").classList.remove("selected"),e.classList.add("selected"),selectedColor=window.getComputedStyle(e).getPropertyValue("background-color")})}),clearCanvas.addEventListener("click",function(){ctx.clearRect(0,0,canvas.width,canvas.height)}),checkBtn.addEventListener("click",function(){answerCard.classList.toggle("a-active"),drawingCard.classList.toggle("d-active"),answerBtns.forEach(function(e){e.classList.toggle("b-active")})}),canvas.addEventListener("mousedown",startDraw),canvas.addEventListener("mouseup",stopDraw),canvas.addEventListener("mousemove",drawing);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyYXcuanMiXSwibmFtZXMiOlsicHJldk1vdXNlWCIsInByZXZNb3VzZVkiLCJzbmFwc2hvdCIsImNvbG9yRGl2IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29sb3JQaWNrZXIiLCJnZXRFbGVtZW50QnlJZCIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJ3aWxsUmVhZEZyZXF1ZW50bHkiLCJjb2xvcnNCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsInRvb2xzQnRucyIsImZpbGxDb2xvciIsImNsZWFyQ2FudmFzIiwiY2hlY2tCdG4iLCJhbnN3ZXJCdG5zIiwiaXNEcmF3aW5nIiwiYnJ1c2hXaWR0aCIsInNlbGVjdGVkVG9vbCIsInNlbGVjdGVkQ29sb3IiLCJkYXRhIiwid2luZG93Iiwib2Zmc2V0V2lkdGgiLCJ3aWR0aCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwidmFsdWUiLCJzdGFydERyYXciLCJvZmZzZXRZIiwiYmVnaW5QYXRoIiwibGluZVdpZHRoIiwib2Zmc2V0WCIsInN0cm9rZVN0eWxlIiwiZmlsbFN0eWxlIiwiZ2V0SW1hZ2VEYXRhIiwic3RvcERyYXciLCJjaGVja2VkIiwiZHJhd1JlY3QiLCJlIiwiZHJhd0NpcmNsZSIsImZpbGwiLCJmaWxsUmVjdCIsImRyYXdUcmlhbmdsZSIsInJhZGl1cyIsIk1hdGgiLCJzcXJ0IiwicG93IiwiYXJjIiwiUEkiLCJsaW5lVG8iLCJzdHJva2UiLCJtb3ZlVG8iLCJkcmF3aW5nIiwiY2xvc2VQYXRoIiwicHV0SW1hZ2VEYXRhIiwicmVtb3ZlRHJhd2luZyIsImRyYXdMaW5lIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvZyIsInNpemVTbGlkZXIiLCJjbGVhclJlY3QiLCJkcmF3aW5nQ2FyZCIsImNsYXNzTGlzdCIsImVsZW1lbnQiLCJ0b2dnbGUiLCJyZW1vdmUiLCJhZGQiLCJpZCIsInNldENvbG9yIiwiZm9yRWFjaCIsImdl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QUFXK0QsUUFBUSxTQUFDYixHQUNuQkEsRUFBSUMsaUJBQWlCLFFBQVMsV0FDN0IzRCxTQUFTQyxjQUFjLG9CQUFvQixFQUFFK0QsVUFBVUcsT0FBTyxVQUFVLEVBQ3hFVCxFQUFJTSxVQUFVSSxJQUFJLFVBQVUsRUFDNUJsRCxjQUFnQkUsT0FDZG9ELGlCQUFpQmQsQ0FBRyxFQUNwQmUsaUJBQWlCLGtCQUFrQixDQUN0QyxDQUFDLENBQ0YsQ0FBQyxFQUVEN0QsWUFBWStDLGlCQUFpQixRQUFTLFdBQ3JDdEQsSUFBSXlELFVBQVUsRUFBRyxFQUFHMUQsT0FBT2tCLE1BQU9sQixPQUFPbUIsTUFBTSxDQUNoRCxDQUFDLEVBRURWLFNBQVM4QyxpQkFBaUIsUUFBUyxXQUNsQ2UsV0FBV1YsVUFBVUUsT0FBTyxVQUFVLEVBQ3RDSCxZQUFZQyxVQUFVRSxPQUFPLFVBQVUsRUFDdkNwRCxXQUFXeUQsUUFBUSxTQUFDTixHQUNuQkEsRUFBUUQsVUFBVUUsT0FBTyxVQUFVLENBQ3BDLENBQUMsQ0FDRixDQUFDLEVBRUQ5RCxPQUFPdUQsaUJBQWlCLFlBQWEvQixTQUFTLEVBQzlDeEIsT0FBT3VELGlCQUFpQixVQUFXdkIsUUFBUSxFQUMzQ2hDLE9BQU91RCxpQkFBaUIsWUFBYU4sT0FBTyIsImZpbGUiOiJkcmF3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNldENvbG9yXCIpO1xyXG5jb25zdCBjb2xvclBpY2tlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sb3ItcGlja2VyXCIpO1xyXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbnZhc1wiKTtcclxuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiLCB7IHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSB9KTtcclxuY29uc3QgdG9vbHNCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50b29sXCIpO1xyXG5jb25zdCBmaWxsQ29sb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZpbGwtY29sb3JcIik7XHJcbmNvbnN0IHNpemVTbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NpemUtc2xpZGVyXCIpO1xyXG5jb25zdCBjb2xvcnNCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb2xvcnMgLm9wdGlvblwiKTtcclxuY29uc3QgY2xlYXJDYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsZWFyLWNhbnZhc1wiKTtcclxuY29uc3QgYW5zd2VyQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIubWFpbkRyYXdfY29udGFpbmVyLWNhcmRzLWNvbnRhaW5lci1hbnN3ZXItYm9hcmRcIlxyXG4pO1xyXG5jb25zdCBkcmF3aW5nQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIubWFpbkRyYXdfY29udGFpbmVyLWNhcmRzLWNvbnRhaW5lci1kcmF3aW5nLWJvYXJkXCJcclxuKTtcclxuY29uc3QgY2hlY2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrLWFuc3dlclwiKTtcclxuY29uc3QgYW5zd2VyQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnV0dG9uLWFuc3dlclwiKTtcclxubGV0IGlzRHJhd2luZyA9IGZhbHNlO1xyXG5sZXQgYnJ1c2hXaWR0aCA9IDU7XHJcbmxldCBzZWxlY3RlZFRvb2wgPSBcImJydXNoXCI7XHJcbmxldCBwcmV2TW91c2VYLCBwcmV2TW91c2VZLCBzbmFwc2hvdDtcclxubGV0IHNlbGVjdGVkQ29sb3IgPSBcIiMwMDAwMDBcIjtcclxubGV0IGRhdGEgPSAwO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcclxuXHRjYW52YXMud2lkdGggPSBjYW52YXMub2Zmc2V0V2lkdGg7XHJcblx0Y2FudmFzLmhlaWdodCA9IGNhbnZhcy5vZmZzZXRIZWlnaHQ7XHJcbn0pO1xyXG5cclxuY29uc3Qgc2V0Q29sb3IgPSAoKSA9PiB7XHJcblx0Y29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3JQaWNrZXIudmFsdWU7XHJcblx0c2VsZWN0ZWRDb2xvciA9IGNvbG9yUGlja2VyLnZhbHVlO1xyXG59O1xyXG5cclxuY29uc3Qgc3RhcnREcmF3ID0gKGUpID0+IHtcclxuXHRpc0RyYXdpbmcgPSB0cnVlO1xyXG5cdHByZXZNb3VzZVggPSBlLm9mZnNldFg7XHJcblx0cHJldk1vdXNlWSA9IGUub2Zmc2V0WTtcclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblx0Y3R4LmxpbmVXaWR0aCA9IGJydXNoV2lkdGg7XHJcblx0Y3R4LnN0cm9rZVN0eWxlID0gc2VsZWN0ZWRDb2xvcjtcclxuXHRjdHguZmlsbFN0eWxlID0gc2VsZWN0ZWRDb2xvcjtcclxuXHRzbmFwc2hvdCA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxufTtcclxuXHJcbmNvbnN0IHN0b3BEcmF3ID0gKCkgPT4ge1xyXG5cdGlzRHJhd2luZyA9IGZhbHNlO1xyXG59O1xyXG5cclxuY29uc3QgZHJhd1JlY3QgPSAoZSkgPT4ge1xyXG5cdGlmICghZmlsbENvbG9yLmNoZWNrZWQpIHtcclxuXHRcdHJldHVybiBjdHguc3Ryb2tlUmVjdChcclxuXHRcdFx0ZS5vZmZzZXRYLFxyXG5cdFx0XHRlLm9mZnNldFksXHJcblx0XHRcdHByZXZNb3VzZVggLSBlLm9mZnNldFgsXHJcblx0XHRcdHByZXZNb3VzZVkgLSBlLm9mZnNldFlcclxuXHRcdCk7XHJcblx0fVxyXG5cdGN0eC5maWxsUmVjdChcclxuXHRcdGUub2Zmc2V0WCxcclxuXHRcdGUub2Zmc2V0WSxcclxuXHRcdHByZXZNb3VzZVggLSBlLm9mZnNldFgsXHJcblx0XHRwcmV2TW91c2VZIC0gZS5vZmZzZXRZXHJcblx0KTtcclxufTtcclxuXHJcbmNvbnN0IGRyYXdDaXJjbGUgPSAoZSkgPT4ge1xyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRsZXQgcmFkaXVzID0gTWF0aC5zcXJ0KFxyXG5cdFx0TWF0aC5wb3cocHJldk1vdXNlWCAtIGUub2Zmc2V0WCwgMikgKyBNYXRoLnBvdyhwcmV2TW91c2VZIC0gZS5vZmZzZXRZLCAyKVxyXG5cdCk7XHJcblx0Y3R4LmFyYyhwcmV2TW91c2VYLCBwcmV2TW91c2VZLCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcclxuXHRpZiAoZmlsbENvbG9yLmNoZWNrZWQpIHtcclxuXHRcdHJldHVybiBjdHguZmlsbCgpO1xyXG5cdH1cclxuXHRjdHguc3Ryb2tlKCk7XHJcbn07XHJcblxyXG5jb25zdCBkcmF3VHJpYW5nbGUgPSAoZSkgPT4ge1xyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRjdHgubW92ZVRvKHByZXZNb3VzZVgsIHByZXZNb3VzZVkpO1xyXG5cdGN0eC5saW5lVG8oZS5vZmZzZXRYLCBlLm9mZnNldFkpO1xyXG5cdGN0eC5saW5lVG8ocHJldk1vdXNlWCAqIDIgLSBlLm9mZnNldFgsIGUub2Zmc2V0WSk7XHJcblx0Y3R4LmNsb3NlUGF0aCgpO1xyXG5cdGlmIChmaWxsQ29sb3IuY2hlY2tlZCkge1xyXG5cdFx0cmV0dXJuIGN0eC5maWxsKCk7XHJcblx0fVxyXG5cdGN0eC5zdHJva2UoKTtcclxufTtcclxuXHJcbmNvbnN0IGRyYXdMaW5lID0gKGUpID0+IHtcclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblx0Y3R4Lm1vdmVUbyhwcmV2TW91c2VYLCBwcmV2TW91c2VZKTtcclxuXHRjdHgubGluZVRvKGUub2Zmc2V0WCwgZS5vZmZzZXRZKTtcclxuXHRjdHguc3Ryb2tlKCk7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVEcmF3aW5nID0gKGUpID0+IHtcclxuXHRjdHguc3Ryb2tlU3R5bGUgPSBcIiNmZmZcIjtcclxuXHRjdHgubGluZVRvKGUub2Zmc2V0WCwgZS5vZmZzZXRZKTtcclxuXHRjdHguc3Ryb2tlKCk7XHJcbn07XHJcblxyXG5jb25zdCBkcmF3aW5nID0gKGUpID0+IHtcclxuXHRpZiAoIWlzRHJhd2luZykgcmV0dXJuO1xyXG5cdGN0eC5wdXRJbWFnZURhdGEoc25hcHNob3QsIDAsIDApO1xyXG5cclxuXHRzd2l0Y2ggKHNlbGVjdGVkVG9vbCkge1xyXG5cdFx0Y2FzZSBcImJydXNoXCI6XHJcblx0XHRcdGN0eC5saW5lVG8oZS5vZmZzZXRYLCBlLm9mZnNldFkpO1xyXG5cdFx0XHRjdHguc3Ryb2tlKCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcInJlY3RhbmdsZVwiOlxyXG5cdFx0XHRkcmF3UmVjdChlKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiY2lyY2xlXCI6XHJcblx0XHRcdGRyYXdDaXJjbGUoZSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcInRyaWFuZ2xlXCI6XHJcblx0XHRcdGRyYXdUcmlhbmdsZShlKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwibGluZVwiOlxyXG5cdFx0XHRkcmF3TGluZShlKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiZXJhc2VyXCI6XHJcblx0XHRcdHJlbW92ZURyYXdpbmcoZSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0ZGVmYXVsdDpcclxuXHRcdFx0YnJlYWs7XHJcblx0fVxyXG59O1xyXG5cclxudG9vbHNCdG5zLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcHRpb25zIC5hY3RpdmVcIikuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuXHRcdGJ0bi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cdFx0c2VsZWN0ZWRUb29sID0gYnRuLmlkO1xyXG5cdFx0Y29uc29sZS5sb2coc2VsZWN0ZWRUb29sKTtcclxuXHR9KTtcclxufSk7XHJcblxyXG5jb2xvckRpdi5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgc2V0Q29sb3IpO1xyXG5cclxuc2l6ZVNsaWRlci5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuXHRicnVzaFdpZHRoID0gc2l6ZVNsaWRlci52YWx1ZTtcclxufSk7XHJcblxyXG5jb2xvcnNCdG5zLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcHRpb25zIC5zZWxlY3RlZFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XHJcblx0XHRidG4uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xyXG5cdFx0c2VsZWN0ZWRDb2xvciA9IHdpbmRvd1xyXG5cdFx0XHQuZ2V0Q29tcHV0ZWRTdHlsZShidG4pXHJcblx0XHRcdC5nZXRQcm9wZXJ0eVZhbHVlKFwiYmFja2dyb3VuZC1jb2xvclwiKTtcclxuXHR9KTtcclxufSk7XHJcblxyXG5jbGVhckNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxufSk7XHJcblxyXG5jaGVja0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGFuc3dlckNhcmQuY2xhc3NMaXN0LnRvZ2dsZShcImEtYWN0aXZlXCIpO1xyXG5cdGRyYXdpbmdDYXJkLmNsYXNzTGlzdC50b2dnbGUoXCJkLWFjdGl2ZVwiKTtcclxuXHRhbnN3ZXJCdG5zLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuXHRcdGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImItYWN0aXZlXCIpO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHN0YXJ0RHJhdyk7XHJcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBzdG9wRHJhdyk7XHJcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGRyYXdpbmcpO1xyXG5cclxuIl19
