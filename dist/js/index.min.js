"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):self.ConfettiGenerator=e()}(function(){return function(e){var s={target:"confetti-holder",max:80,size:1,animate:!0,respawn:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,start_from_edge:!1,width:window.innerWidth,height:window.innerHeight};if(e&&(e.target&&(s.target=e.target),e.max&&(s.max=e.max),e.size&&(s.size=e.size),null!=e.animate&&(s.animate=e.animate),null!=e.respawn&&(s.respawn=e.respawn),e.props&&(s.props=e.props),e.colors&&(s.colors=e.colors),e.clock&&(s.clock=e.clock),null!=e.start_from_edge&&(s.start_from_edge=e.start_from_edge),e.width&&(s.width=e.width),e.height&&(s.height=e.height),null!=e.rotate)&&(s.rotate=e.rotate),"object"!=_typeof(s.target)&&"string"!=typeof s.target)throw new TypeError("The target parameter should be a node or string");if("object"==_typeof(s.target)&&(null===s.target||!s.target instanceof HTMLCanvasElement)||"string"==typeof s.target&&(null===document.getElementById(s.target)||!document.getElementById(s.target)instanceof HTMLCanvasElement))throw new ReferenceError("The target element does not exist or is not a canvas element");var r="object"==_typeof(s.target)?s.target:document.getElementById(s.target),l=r.getContext("2d"),c=[];function d(e,t){e=e||1;e=Math.random()*e;return t?Math.floor(e):e}var o=s.props.reduce(function(e,t){return e+(t.weight||1)},0);function f(){s.animate=!1,clearInterval(s.interval),requestAnimationFrame(function(){l.clearRect(0,0,r.width,r.height);var e=r.width;r.width=1,r.width=e})}return{render:function(){r.width=s.width,r.height=s.height,c=[];for(var e,t=0;t<s.max;t++)c.push((e=void 0,{prop:(e=s.props[function(){for(var e=Math.random()*o,t=0;t<s.props.length;++t){var r=s.props[t].weight||1;if(e<r)return t;e-=r}}()]).type||e,x:d(s.width),y:s.start_from_edge?s.clock<0?parseFloat(s.height)+10:-10:d(s.height),src:e.src,radius:d(4)+1,size:e.size,rotate:s.rotate,line:Math.floor(d(65)-30),angles:[d(10,!0)+2,d(10,!0)+2,d(10,!0)+2,d(10,!0)+2],color:s.colors[d(s.colors.length,!0)],rotation:d(360,!0)*Math.PI/180,speed:d(s.clock/7)+s.clock/30}));return requestAnimationFrame(function e(){for(var t in l.clearRect(0,0,s.width,s.height),c){r=void 0;o=void 0;a=void 0;var r=c[t];if(r)switch(l.fillStyle=l.strokeStyle="rgba("+r.color+", "+(3<r.radius?.8:.4)+")",l.beginPath(),r.prop){case"circle":l.moveTo(r.x,r.y),l.arc(r.x,r.y,r.radius*s.size,0,2*Math.PI,!0),l.fill();break;case"triangle":l.moveTo(r.x,r.y),l.lineTo(r.x+r.angles[0]*s.size,r.y+r.angles[1]*s.size),l.lineTo(r.x+r.angles[2]*s.size,r.y+r.angles[3]*s.size),l.closePath(),l.fill();break;case"line":l.moveTo(r.x,r.y),l.lineTo(r.x+r.line*s.size,r.y+5*r.radius),l.lineWidth=2*s.size,l.stroke();break;case"square":l.save(),l.translate(r.x+15,r.y+5),l.rotate(r.rotation),l.fillRect(-15*s.size,-5*s.size,15*s.size,5*s.size),l.restore();break;case"svg":l.save();var o=new window.Image,a=(o.src=r.src,r.size||15);l.translate(r.x+a/2,r.y+a/2),r.rotate&&l.rotate(r.rotation),l.drawImage(o,-a/2*s.size,-a/2*s.size,a*s.size,a*s.size),l.restore()}}for(var n=0;n<s.max;n++){var i=c[n];i&&(s.animate&&(i.y+=i.speed),i.rotate&&(i.rotation+=i.speed/35),0<=i.speed&&s.height<i.y||i.speed<0&&i.y<0)&&(s.respawn?(c[n]=i,c[n].x=d(s.width,!0),c[n].y=i.speed<0?parseFloat(s.height):-10):c[n]=void 0)}c.every(function(e){return void 0===e})&&f(),s.animate&&requestAnimationFrame(e)})},clear:f}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4Lm1pbi5qcyJdLCJuYW1lcyI6WyJ0IiwiZXhwb3J0cyIsIl90eXBlb2YiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiQ29uZmV0dGlHZW5lcmF0b3IiLCJlIiwiYSIsInRhcmdldCIsIm1heCIsInNpemUiLCJhbmltYXRlIiwicmVzcGF3biIsInByb3BzIiwiY29sb3JzIiwiY2xvY2siLCJpbnRlcnZhbCIsInJvdGF0ZSIsInN0YXJ0X2Zyb21fZWRnZSIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiVHlwZUVycm9yIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiUmVmZXJlbmNlRXJyb3IiLCJvIiwiZ2V0Q29udGV4dCIsInIiLCJuIiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwiaSIsInJlZHVjZSIsIndlaWdodCIsImMiLCJjbGVhckludGVydmFsIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJSZWN0IiwicmVuZGVyIiwicHVzaCIsInByb3AiLCJsZW5ndGgiLCJ0eXBlIiwieCIsInkiLCJwYXJzZUZsb2F0Iiwic3JjIiwicmFkaXVzIiwibGluZSIsImFuZ2xlcyIsImNvbG9yIiwicm90YXRpb24iLCJQSSIsInNwZWVkIiwibCIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwiYXJjIiwiZmlsbCIsImxpbmVUbyIsImNsb3NlUGF0aCIsImxpbmVXaWR0aCIsInN0cm9rZSIsInNhdmUiLCJ0cmFuc2xhdGUiLCJmaWxsUmVjdCIsInJlc3RvcmUiLCJJbWFnZSIsImRyYXdJbWFnZSIsImV2ZXJ5IiwiY2xlYXIiXSwibWFwcGluZ3MiOiI4UEFBQSxDQUFDLFNBQVdBLEdBQUcsV0FBd0IsYUFBaEIsT0FBU0MsUUFBTyxZQUFBQyxRQUFQRCxPQUFPLElBQUUsYUFBYSxPQUFPRSxPQUFPQSxPQUFP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SVMsRUFBRUksVUFBVWIsRUFBRW1ELEdBQUduRCxFQUFFNEQsT0FBTzVELEVBQUVtQixTQUFTbkIsRUFBRTBELFVBQVUxRCxFQUFFNEQsTUFBTSxJQUFLLEdBQUc1RCxFQUFFNEQsT0FBT25ELEVBQUVlLE9BQU94QixFQUFFbUQsR0FBR25ELEVBQUU0RCxNQUFNLEdBQUc1RCxFQUFFbUQsRUFBRSxLQUFLMUMsRUFBRUssU0FBU21CLEVBQUV6QixHQUFHUixFQUFFaUMsRUFBRXpCLEdBQUcwQyxFQUFFaEIsRUFBRXpCLEVBQUVZLE1BQU0sQ0FBQSxDQUFFLEVBQUVZLEVBQUV6QixHQUFHMkMsRUFBRW5ELEVBQUU0RCxNQUFNLEVBQUVSLFdBQVczQyxFQUFFZSxNQUFNLEVBQUUsQ0FBQyxJQUFJUyxFQUFFekIsR0FBRyxLQUFBLEVBQVEsQ0FBQ3lCLEVBQUU2QyxNQUFNLFNBQVN0RSxHQUFHLE9BQU8sS0FBQSxJQUFTQSxDQUFDLENBQUMsR0FBR2lDLEVBQUMsRUFBTWhDLEVBQUVJLFNBQVM4QixzQkFBc0JuQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUV1RSxNQUFNdEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTooZT1lfHxzZWxmKS5Db25mZXR0aUdlbmVyYXRvcj10KCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGE9e3RhcmdldDpcImNvbmZldHRpLWhvbGRlclwiLG1heDo4MCxzaXplOjEsYW5pbWF0ZTohMCxyZXNwYXduOiEwLHByb3BzOltcImNpcmNsZVwiLFwic3F1YXJlXCIsXCJ0cmlhbmdsZVwiLFwibGluZVwiXSxjb2xvcnM6W1sxNjUsMTA0LDI0Nl0sWzIzMCw2MSwxMzVdLFswLDE5OSwyMjhdLFsyNTMsMjE0LDEyNl1dLGNsb2NrOjI1LGludGVydmFsOm51bGwscm90YXRlOiExLHN0YXJ0X2Zyb21fZWRnZTohMSx3aWR0aDp3aW5kb3cuaW5uZXJXaWR0aCxoZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0fTtpZihlJiYoZS50YXJnZXQmJihhLnRhcmdldD1lLnRhcmdldCksZS5tYXgmJihhLm1heD1lLm1heCksZS5zaXplJiYoYS5zaXplPWUuc2l6ZSksbnVsbCE9ZS5hbmltYXRlJiYoYS5hbmltYXRlPWUuYW5pbWF0ZSksbnVsbCE9ZS5yZXNwYXduJiYoYS5yZXNwYXduPWUucmVzcGF3biksZS5wcm9wcyYmKGEucHJvcHM9ZS5wcm9wcyksZS5jb2xvcnMmJihhLmNvbG9ycz1lLmNvbG9ycyksZS5jbG9jayYmKGEuY2xvY2s9ZS5jbG9jayksbnVsbCE9ZS5zdGFydF9mcm9tX2VkZ2UmJihhLnN0YXJ0X2Zyb21fZWRnZT1lLnN0YXJ0X2Zyb21fZWRnZSksZS53aWR0aCYmKGEud2lkdGg9ZS53aWR0aCksZS5oZWlnaHQmJihhLmhlaWdodD1lLmhlaWdodCksbnVsbCE9ZS5yb3RhdGUmJihhLnJvdGF0ZT1lLnJvdGF0ZSkpLFwib2JqZWN0XCIhPXR5cGVvZiBhLnRhcmdldCYmXCJzdHJpbmdcIiE9dHlwZW9mIGEudGFyZ2V0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgdGFyZ2V0IHBhcmFtZXRlciBzaG91bGQgYmUgYSBub2RlIG9yIHN0cmluZ1wiKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYS50YXJnZXQmJihudWxsPT09YS50YXJnZXR8fCFhLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KXx8XCJzdHJpbmdcIj09dHlwZW9mIGEudGFyZ2V0JiYobnVsbD09PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEudGFyZ2V0KXx8IWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEudGFyZ2V0KWluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIlRoZSB0YXJnZXQgZWxlbWVudCBkb2VzIG5vdCBleGlzdCBvciBpcyBub3QgYSBjYW52YXMgZWxlbWVudFwiKTt2YXIgdD1cIm9iamVjdFwiPT10eXBlb2YgYS50YXJnZXQ/YS50YXJnZXQ6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYS50YXJnZXQpLG89dC5nZXRDb250ZXh0KFwiMmRcIikscj1bXTtmdW5jdGlvbiBuKGUsdCl7ZT1lfHwxO3ZhciByPU1hdGgucmFuZG9tKCkqZTtyZXR1cm4gdD9NYXRoLmZsb29yKHIpOnJ9dmFyIGk9YS5wcm9wcy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsodC53ZWlnaHR8fDEpfSwwKTtmdW5jdGlvbiBzKCl7dmFyIGU9YS5wcm9wc1tmdW5jdGlvbigpe2Zvcih2YXIgZT1NYXRoLnJhbmRvbSgpKmksdD0wO3Q8YS5wcm9wcy5sZW5ndGg7Kyt0KXt2YXIgcj1hLnByb3BzW3RdLndlaWdodHx8MTtpZihlPHIpcmV0dXJuIHQ7ZS09cn19KCldO3JldHVybntwcm9wOmUudHlwZT9lLnR5cGU6ZSx4Om4oYS53aWR0aCkseTphLnN0YXJ0X2Zyb21fZWRnZT9hLmNsb2NrPDA/cGFyc2VGbG9hdChhLmhlaWdodCkrMTA6LTEwOm4oYS5oZWlnaHQpLHNyYzplLnNyYyxyYWRpdXM6big0KSsxLHNpemU6ZS5zaXplLHJvdGF0ZTphLnJvdGF0ZSxsaW5lOk1hdGguZmxvb3Iobig2NSktMzApLGFuZ2xlczpbbigxMCwhMCkrMixuKDEwLCEwKSsyLG4oMTAsITApKzIsbigxMCwhMCkrMl0sY29sb3I6YS5jb2xvcnNbbihhLmNvbG9ycy5sZW5ndGgsITApXSxyb3RhdGlvbjpuKDM2MCwhMCkqTWF0aC5QSS8xODAsc3BlZWQ6bihhLmNsb2NrLzcpK2EuY2xvY2svMzB9fWZ1bmN0aW9uIGwoZSl7aWYoZSlzd2l0Y2goby5maWxsU3R5bGU9by5zdHJva2VTdHlsZT1cInJnYmEoXCIrZS5jb2xvcitcIiwgXCIrKDM8ZS5yYWRpdXM/Ljg6LjQpK1wiKVwiLG8uYmVnaW5QYXRoKCksZS5wcm9wKXtjYXNlXCJjaXJjbGVcIjpvLm1vdmVUbyhlLngsZS55KSxvLmFyYyhlLngsZS55LGUucmFkaXVzKmEuc2l6ZSwwLDIqTWF0aC5QSSwhMCksby5maWxsKCk7YnJlYWs7Y2FzZVwidHJpYW5nbGVcIjpvLm1vdmVUbyhlLngsZS55KSxvLmxpbmVUbyhlLngrZS5hbmdsZXNbMF0qYS5zaXplLGUueStlLmFuZ2xlc1sxXSphLnNpemUpLG8ubGluZVRvKGUueCtlLmFuZ2xlc1syXSphLnNpemUsZS55K2UuYW5nbGVzWzNdKmEuc2l6ZSksby5jbG9zZVBhdGgoKSxvLmZpbGwoKTticmVhaztjYXNlXCJsaW5lXCI6by5tb3ZlVG8oZS54LGUueSksby5saW5lVG8oZS54K2UubGluZSphLnNpemUsZS55KzUqZS5yYWRpdXMpLG8ubGluZVdpZHRoPTIqYS5zaXplLG8uc3Ryb2tlKCk7YnJlYWs7Y2FzZVwic3F1YXJlXCI6by5zYXZlKCksby50cmFuc2xhdGUoZS54KzE1LGUueSs1KSxvLnJvdGF0ZShlLnJvdGF0aW9uKSxvLmZpbGxSZWN0KC0xNSphLnNpemUsLTUqYS5zaXplLDE1KmEuc2l6ZSw1KmEuc2l6ZSksby5yZXN0b3JlKCk7YnJlYWs7Y2FzZVwic3ZnXCI6by5zYXZlKCk7dmFyIHQ9bmV3IHdpbmRvdy5JbWFnZTt0LnNyYz1lLnNyYzt2YXIgcj1lLnNpemV8fDE1O28udHJhbnNsYXRlKGUueCtyLzIsZS55K3IvMiksZS5yb3RhdGUmJm8ucm90YXRlKGUucm90YXRpb24pLG8uZHJhd0ltYWdlKHQsLXIvMiphLnNpemUsLXIvMiphLnNpemUsciphLnNpemUsciphLnNpemUpLG8ucmVzdG9yZSgpfX1mdW5jdGlvbiBjKCl7YS5hbmltYXRlPSExLGNsZWFySW50ZXJ2YWwoYS5pbnRlcnZhbCkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7by5jbGVhclJlY3QoMCwwLHQud2lkdGgsdC5oZWlnaHQpO3ZhciBlPXQud2lkdGg7dC53aWR0aD0xLHQud2lkdGg9ZX0pfXJldHVybntyZW5kZXI6ZnVuY3Rpb24oKXt0LndpZHRoPWEud2lkdGgsdC5oZWlnaHQ9YS5oZWlnaHQscj1bXTtmb3IodmFyIGU9MDtlPGEubWF4O2UrKylyLnB1c2gocygpKTtyZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIGUoKXtmb3IodmFyIHQgaW4gby5jbGVhclJlY3QoMCwwLGEud2lkdGgsYS5oZWlnaHQpLHIpbChyW3RdKTshZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPGEubWF4O2UrKyl7dmFyIHQ9cltlXTt0JiYoYS5hbmltYXRlJiYodC55Kz10LnNwZWVkKSx0LnJvdGF0ZSYmKHQucm90YXRpb24rPXQuc3BlZWQvMzUpLCgwPD10LnNwZWVkJiZhLmhlaWdodDx0Lnl8fHQuc3BlZWQ8MCYmdC55PDApJiYoYS5yZXNwYXduPyhyW2VdPXQscltlXS54PW4oYS53aWR0aCwhMCkscltlXS55PXQuc3BlZWQ8MD9wYXJzZUZsb2F0KGEuaGVpZ2h0KTotMTApOnJbZV09dm9pZCAwKSl9ci5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZX0pJiZjKCl9KCksYS5hbmltYXRlJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSl9KX0sY2xlYXI6Y319fSk7XG4iXX0=
