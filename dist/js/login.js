"use strict";var _firebaseApp=require("https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"),_firebaseAuth=require("https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js"),_firebaseDatabase=require("https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js"),app=(0,_firebaseApp.initializeApp)(firebaseConfig),db=(0,_firebaseDatabase.getDatabase)(app),auth=(0,_firebaseAuth.getAuth)(),password=document.querySelector("#password"),email=document.querySelector("#mail"),sendBtn=document.querySelector(".login"),error=document.querySelector(".error-text"),err=0,showErr=function(e,r){var e=e.parentElement,a=e.querySelector(".error-text");e.classList.add("error"),a.textContent=r},clearErr=function(e){e.parentElement.classList.remove("error")},checkForm=function(e){e.forEach(function(e){""===e.value.trim()?(showErr(e,e.placeholder.toLowerCase()+" !"),err++):(clearErr(e),err--)})};sendBtn.addEventListener("click",function(e){e.preventDefault(),checkForm([email,password]),(0,_firebaseAuth.signInWithEmailAndPassword)(auth,email.value,password.value).then(function(e){var r=e.user,e=new Date;(0,_firebaseDatabase.update)((0,_firebaseDatabase.ref)(db,"users/"+r.uid),{last_login:e}).then(function(){email.value="",password.value="",error.style.visibility="hidden",sessionStorage.setItem("user",JSON.stringify(r)),location.href="http://localhost:3000/index.html"}).catch(function(e){alert("error "+e)})}).catch(function(e){0===err&&(showErr(email,"Wprowadzono błędne dane"),email.value="",password.value="")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sIm5hbWVzIjpbIl9maXJlYmFzZUFwcCIsInJlcXVpcmUiLCJfZmlyZWJhc2VBdXRoIiwiX2ZpcmViYXNlRGF0YWJhc2UiLCJlcnJvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImVyciIsImdldERhdGFiYXNlIiwiYXBwIiwic2hvd0VyciIsImdldEF1dGgiLCJlcnJvck1zZyIsImZvcm1Cb3giLCJjbGFzc0xpc3QiLCJ0ZXh0Q29udGVudCIsIm1zZyIsImlucHV0IiwiY2hlY2tGb3JtIiwicGFyZW50RWxlbWVudCIsImVsIiwidHJpbSIsInBsYWNlaG9sZGVyIiwiY2xlYXJFcnIiLCJyZW1vdmUiLCJzZW5kQnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwicGFzc3dvcmQiLCJlbWFpbCIsInNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwiYXV0aCIsInVwZGF0ZSIsImxhc3RfbG9naW4iLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJlIiwiaHJlZiIsInZhbHVlIiwidGhlbiIsInVzZXJDcmVkZW50aWFsIiwidXNlciIsIkRhdGUiLCJkYiIsInVpZCIsImxnRGF0ZSIsInN0eWxlIiwidmlzaWJpbGl0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2NhdGlvbiIsImFsZXJ0Il0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxhQUFBQyxRQUFBLDJEQUFBLEVBQ0FDLGNBQUFELFFBQUEsNERBQUEsRUFVQUUsa0JBQUFGLFFBQUEsZ0VBQUEsRUFPTUcsS0FBUUMsRUFBQUEsYUFBQUEsZUFBU0MsY0FBYyxFQUVqQ0MsSUFBTyxFQUFBQyxrQkFBQUEsYUFBQUMsR0FBQSxFQUVMQyxNQUFPLEVBQUFDLGNBQUFBLFNBQUcsRUFFVEMsU0FBV0MsU0FBUVAsY0FBYyxXQUFBLEVBQ3ZDTyxNQUFRQyxTQUFhUixjQUFTLE9BQUEsRUFDOUJNLFFBQVNHLFNBQWNDLGNBQUcsUUFBQSxFQUMxQlosTUFBQUMsU0FBQUMsY0FBQSxhQUFBLEVBR0FDLElBQU1NLEVBRU5ILFFBQUEsU0FBQU8sRUFBQUQsR0FFRCxJQUFNRSxFQUFZRCxFQUFBRSxjQUNaUCxFQUFTQyxFQUFDTyxjQUFPLGFBQUEsRUFWdEJQLEVBV0tPLFVBQVNDLElBQU0sT0FBTyxFQVYzQlQsRUFXRUYsWUFBZVksQ0FWbEIsRUFhR0MsU0FBVyxTQUFDTixHQUNQQSxFQUFBRSxjQUNOTCxVQUFBVSxPQUFBLE9BQUEsQ0FWRixFQWNBQyxVQUFRQyxTQUFBQSxHQVhQVCxFQVlFVSxRQUFBQSxTQUFBQSxHQUNnQkMsS0FBbEJWLEVBQUFBLE1BQVdXLEtBQUssR0FFaEJuQixRQUFBb0IsRUFBQUEsRUFBQUEsWUFBQUEsWUFBQUEsRUFBMEIsSUFBQ0MsRUFaekJ4QixHQWNBLEtBWkFnQixTQWVBUyxDQUFBQSxFQWRBekIsR0FlQzBCLEdBYkgsQ0FBQyxDQUNGLEVBRUFSLFFBZ0JLUyxpQkFBZUMsUUFBUSxTQUFNQyxHQWZqQ0EsRUFBRVQsZUFnQldVLEVBZmJuQixVQWdCSyxDQUFBVyxNQUNLRCxTQUFDeEIsR0FmWCxFQUFBMEIsY0FBQUEsNEJBaUJLQyxLQUFBRixNQUFBUyxNQUFBVixTQUFBVSxLQUFBLEVBQ0hDLEtBQUMsU0FBQUMsR0FoQkQsSUFrQklqQyxFQUFRaUMsRUFBR0MsS0FDZC9CLEVBQVFtQixJQUFPYSxNQWhCaEIsRUFBQVYsa0JBQUFBLFNBa0JDSixFQUFBQSxrQkFBQUEsS0FBUWUsR0FBQ0wsU0FBVUcsRUFBQUcsR0FBQSxFQUFBLENBQ3BCWCxXQUFBWSxDQUNBLENBQUMsRUFDRk4sS0FBQSxXQWpCR1YsTUFBTVMsTUFBUSxHQUNkVixTQUFTVSxNQUFRLEdBQ2pCbEMsTUFBTTBDLE1BQU1DLFdBQWEsU0FDekJiLGVBQWVDLFFBQVEsT0FBUWEsS0FBS0MsVUFBVVIsQ0FBSSxDQUFDLEVBQ25EUyxTQUFTYixLQUFPLGtDQUNqQixDQUFDLEVBQUMsTUFDSyxTQUFDakMsR0FDUCtDLE1BQU0sU0FBVy9DLENBQUssQ0FDdkIsQ0FBQyxDQUNILENBQUMsRUFBQyxNQUNLLFNBQUNBLEdBQ0ssSUFBUkcsTUFDSEcsUUFBUW1CLE1BQU8seUJBQXlCLEVBQ3hDQSxNQUFNUyxNQUFRLEdBQ2RWLFNBQVNVLE1BQVEsR0FFbkIsQ0FBQyxDQUNILENBQUMiLCJmaWxlIjoibG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0aWFsaXplQXBwIH0gZnJvbSBcImh0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2ZpcmViYXNlanMvOS4xNy4xL2ZpcmViYXNlLWFwcC5qc1wiO1xyXG5pbXBvcnQge1xyXG5cdGdldEF1dGgsXHJcblx0c2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsXHJcbn0gZnJvbSBcImh0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2ZpcmViYXNlanMvOS4xNy4xL2ZpcmViYXNlLWF1dGguanNcIjtcclxuaW1wb3J0IHtcclxuXHRnZXREYXRhYmFzZSxcclxuXHRyZWYsXHJcblx0dXBkYXRlLFxyXG59IGZyb20gXCJodHRwczovL3d3dy5nc3RhdGljLmNvbS9maXJlYmFzZWpzLzkuMTcuMS9maXJlYmFzZS1kYXRhYmFzZS5qc1wiO1xyXG5cclxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoYXBwKTtcclxuY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcclxuXHJcbmNvbnN0IHBhc3N3b3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwYXNzd29yZFwiKTtcclxuY29uc3QgZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haWxcIik7XHJcbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvZ2luXCIpO1xyXG5jb25zdCBlcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItdGV4dFwiKTtcclxuXHJcbmxldCBlcnIgPSAwO1xyXG5cclxuY29uc3Qgc2hvd0VyciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcblx0Y29uc3QgZXJyb3JNc2cgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItdGV4dFwiKTtcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuXHRlcnJvck1zZy50ZXh0Q29udGVudCA9IG1zZztcclxufTtcclxuXHJcbmNvbnN0IGNsZWFyRXJyID0gKGlucHV0KSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcblx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Zvcm0gPSAoaW5wdXQpID0+IHtcclxuXHRpbnB1dC5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0aWYgKGVsLnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG5cdFx0XHRzaG93RXJyKGVsLCBlbC5wbGFjZWhvbGRlci50b0xvd2VyQ2FzZSgpICsgXCIgIVwiKTtcclxuXHRcdFx0ZXJyKys7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjbGVhckVycihlbCk7XHJcblx0XHRcdGVyci0tO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxuc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0Y2hlY2tGb3JtKFtlbWFpbCwgcGFzc3dvcmRdKTtcclxuXHJcblx0c2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwudmFsdWUsIHBhc3N3b3JkLnZhbHVlKVxyXG5cdFx0LnRoZW4oKHVzZXJDcmVkZW50aWFsKSA9PiB7XHJcblx0XHRcdGNvbnN0IHVzZXIgPSB1c2VyQ3JlZGVudGlhbC51c2VyO1xyXG5cdFx0XHRjb25zdCBsZ0RhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdFx0dXBkYXRlKHJlZihkYiwgXCJ1c2Vycy9cIiArIHVzZXIudWlkKSwge1xyXG5cdFx0XHRcdGxhc3RfbG9naW46IGxnRGF0ZSxcclxuXHRcdFx0fSlcclxuXHRcdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHRlbWFpbC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdFx0XHRwYXNzd29yZC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdFx0XHRlcnJvci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuXHRcdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJ1c2VyXCIsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcclxuXHRcdFx0XHRcdGxvY2F0aW9uLmhyZWYgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9pbmRleC5odG1sXCI7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goKGVycm9yKSA9PiB7XHJcblx0XHRcdFx0XHRhbGVydChcImVycm9yIFwiICsgZXJyb3IpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSlcclxuXHRcdC5jYXRjaCgoZXJyb3IpID0+IHtcclxuXHRcdFx0aWYgKGVyciA9PT0gMCkge1xyXG5cdFx0XHRcdHNob3dFcnIoZW1haWwsIFwiV3Byb3dhZHpvbm8gYsWCxJlkbmUgZGFuZVwiKTtcclxuXHRcdFx0XHRlbWFpbC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdFx0cGFzc3dvcmQudmFsdWUgPSBcIlwiO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxufSk7XHJcbiJdfQ==
