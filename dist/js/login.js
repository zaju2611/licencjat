"use strict";var _firebaseApp=require("https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"),_firebaseAuth=require("https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js"),_firebaseDatabase=require("https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js"),firebaseConfig={apiKey:"AIzaSyAhj6kkaS_fMvLOwL-J4SXJ_DWSwejBmlo",authDomain:"licencjat-2a013.firebaseapp.com",databaseURL:"https://licencjat-2a013-default-rtdb.firebaseio.com",projectId:"licencjat-2a013",storageBucket:"licencjat-2a013.appspot.com",messagingSenderId:"676690164407",appId:"1:676690164407:web:b234c74f6f771f59a1ab32"},app=(0,_firebaseApp.initializeApp)(firebaseConfig),db=(0,_firebaseDatabase.getDatabase)(app),auth=(0,_firebaseAuth.getAuth)(),password=document.querySelector("#password"),email=document.querySelector("#mail"),sendBtn=document.querySelector(".login"),error=document.querySelector(".error-text"),closeBtn=document.querySelector(".close"),signin=document.querySelector(".sign-in"),signout=document.querySelector(".sign-out"),results=document.querySelector(".results"),showErr=function(e,t){var e=e.parentElement,a=e.querySelector(".error-text");e.classList.add("error"),a.textContent=t};sendBtn.addEventListener("click",function(e){e.preventDefault(),(0,_firebaseAuth.signInWithEmailAndPassword)(auth,email.value,password.value).then(function(e){var t=e.user,e=new Date;(0,_firebaseDatabase.update)((0,_firebaseDatabase.ref)(db,"users/"+t.uid),{last_login:e}).then(function(){email.value="",password.value="",error.style.visibility="hidden",sessionStorage.setItem("user",JSON.stringify(t)),location.href="http://localhost:3000/index.html"}).catch(function(e){alert("error "+e)})}).catch(function(e){showErr(email,"Użytkownik nie istnieje")})}),signout.addEventListener("click",function(e){e.preventDefault(),(0,_firebaseAuth.signOut)(auth).then(function(){sessionStorage.removeItem("user"),location.href="http://localhost:3000/index.html"}).catch(function(e){alert("błąd przy wylogowywaniu")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sIm5hbWVzIjpbIl9maXJlYmFzZUFwcCIsInJlcXVpcmUiLCJfZmlyZWJhc2VBdXRoIiwiX2ZpcmViYXNlRGF0YWJhc2UiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsImF1dGhEb21haW4iLCJnZXREYXRhYmFzZSIsImRhdGFiYXNlVVJMIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsImRvY3VtZW50IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsImVycm9yIiwic2lnbm91dCIsImluaXRpYWxpemVBcHAiLCJxdWVyeVNlbGVjdG9yIiwicmVzdWx0cyIsInNob3dFcnIiLCJnZXRBdXRoIiwiZXJyb3JNc2ciLCJmb3JtQm94IiwiY2xhc3NMaXN0IiwidGV4dENvbnRlbnQiLCJtc2ciLCJzZW5kQnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0Iiwic2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQiLCJhdXRoIiwiaW5wdXQiLCJEYXRlIiwicGFyZW50RWxlbWVudCIsInVwZGF0ZSIsInJlZiIsImxhc3RfbG9naW4iLCJsZ0RhdGUiLCJ0aGVuIiwidmlzaWJpbGl0eSIsImUiLCJzZXNzaW9uU3RvcmFnZSIsImVtYWlsIiwidmFsdWUiLCJwYXNzd29yZCIsInVzZXJDcmVkZW50aWFsIiwidXNlciIsImRiIiwidWlkIiwic2lnbk91dCIsInJlbW92ZUl0ZW0iLCJsb2NhdGlvbiIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiYWxlcnQiLCJocmVmIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxhQUFBQyxRQUFBLDJEQUFBLEVBQ0FDLGNBQUFELFFBQUEsNERBQUEsRUFNQUUsa0JBQUFGLFFBQUEsZ0VBQUEsRUFjQ0csZUFBQSxDQUVEQyxPQUFTLDBDQUNUQyxXQUFXQyxrQ0FDWEMsWUFBYSxzREFFYkMsVUFBYyxrQkFDZEMsY0FBY0MsOEJBQ2RDLGtCQUFnQkQsZUFDaEJFLE1BQU1DLDJDQUNOLEVBRU1DLEtBQU8sRUFBQUMsYUFBQUEsZUFBWUMsY0FBYyxFQUNqQ0MsSUFBTyxFQUFBWCxrQkFBQUEsYUFBWVUsR0FBQUEsRUFFbkJFLE1BQU8sRUFBQUMsY0FBQUEsU0FBRyxFQUVUQyxTQUFXQyxTQUFRTCxjQUFjLFdBQUEsRUFDdkNLLE1BQVFDLFNBQWFOLGNBQVMsT0FBQSxFQUM5QkksUUFBU0csU0FBY0MsY0FBRyxRQUFBLEVBQzFCWCxNQUFBSCxTQUFBTSxjQUFBLGFBQUEsRUFFRFMsU0FBUUMsU0FBaUJWLGNBQVMsUUFBTyxFQUN0Q1csT0FBQUEsU0FBZ0JYLGNBQUEsVUFBQSxFQUNsQlksUUFBQUEsU0FBQUEsY0FBQUEsV0FBMkJDLEVBRXpCWixRQUFBUCxTQUFBTSxjQUFBLFVBQUEsRUFFQUUsUUFBWSxTQUFHWSxFQUFJQyxHQVpyQixJQWFFVixFQUFBUyxFQUFBRSxjQUNBWixFQUFBYSxFQUFBQSxjQUFPQyxhQUFBQSxFQVpUYixFQWFHYyxVQUFZQyxJQUFBQSxPQUFBQSxFQVpmaEIsRUFjSWlCLFlBQVdiLENBYmhCLEVBRUFDLFFBY0taLGlCQUFZeUIsUUFBYSxTQUFBQyxHQWI3QkEsRUFBRVosZUFjRWEsR0FiSixFQUFBWixjQUFBQSw0QkFjb0JDLEtBQUFZLE1BQUFDLE1BQUFDLFNBQWtDRCxLQUFBLEVBYnBETCxLQWNHLFNBQUFPLEdBWkgsSUFlR0MsRUFBQUQsRUFBQUMsS0FDRlQsRUFDSyxJQUFBTCxNQUVOLEVBQUFFLGtCQUFBQSxTQUFDLEVBQUFDLGtCQUFBQSxLQUFBWSxHQUFBLFNBQUFELEVBQUFFLEdBQUEsRUFBQSxDQUNGWixXQUFBQyxDQUVGdEIsQ0FBQUEsRUFDR2EsS0FBQUEsV0FDRmMsTUFBQU8sTUFBQUEsR0FFRVIsU0FBQUEsTUFBZVMsR0FDZkMsTUFBQUEsTUFBYVosV0FBRyxTQUNmRSxlQUNLVyxRQUFDdEMsT0FBVXVDLEtBQUFDLFVBQUFSLENBQUEsQ0FBQSxFQUNqQlMsU0FBTUMsS0FBQSxrQ0FDTCxDQUFBLEVBQUEsTUFDRixTQUFBMUMsR0FsQkd5QyxNQUFNLFNBQVd6QyxDQUFLLENBQ3ZCLENBQUMsQ0FDSCxDQUFDLEVBQUMsTUFDSyxTQUFDQSxHQUNQSyxRQUFRdUIsTUFBTyx5QkFBeUIsQ0FDekMsQ0FBQyxDQUNILENBQUMsRUFFRDNCLFFBQVFZLGlCQUFpQixRQUFTLFNBQUNhLEdBQ2xDQSxFQUFFWixlQUFjLEdBQ2hCLEVBQUFxQixjQUFBQSxTQUFRbkIsSUFBSSxFQUNWUSxLQUFLLFdBQ0xHLGVBQWVTLFdBQVcsTUFBTSxFQUNoQ0MsU0FBU0ssS0FBTyxrQ0FDakIsQ0FBQyxFQUFDLE1BQ0ssU0FBQzFDLEdBQ1B5QyxNQUFNLHlCQUF5QixDQUNoQyxDQUFDLENBQ0gsQ0FBQyIsImZpbGUiOiJsb2dpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVBcHAgfSBmcm9tIFwiaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy85LjE3LjEvZmlyZWJhc2UtYXBwLmpzXCI7XHJcbmltcG9ydCB7XHJcblx0Z2V0QXV0aCxcclxuXHRzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCxcclxuXHRzaWduT3V0LFxyXG5cdG9uQXV0aFN0YXRlQ2hhbmdlZCxcclxufSBmcm9tIFwiaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy85LjE3LjEvZmlyZWJhc2UtYXV0aC5qc1wiO1xyXG5pbXBvcnQge1xyXG5cdGdldERhdGFiYXNlLFxyXG5cdHNldCxcclxuXHRyZWYsXHJcblx0dXBkYXRlLFxyXG59IGZyb20gXCJodHRwczovL3d3dy5nc3RhdGljLmNvbS9maXJlYmFzZWpzLzkuMTcuMS9maXJlYmFzZS1kYXRhYmFzZS5qc1wiO1xyXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcclxuXHRhcGlLZXk6IFwiQUl6YVN5QWhqNmtrYVNfZk12TE93TC1KNFNYSl9EV1N3ZWpCbWxvXCIsXHJcblx0YXV0aERvbWFpbjogXCJsaWNlbmNqYXQtMmEwMTMuZmlyZWJhc2VhcHAuY29tXCIsXHJcblx0ZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9saWNlbmNqYXQtMmEwMTMtZGVmYXVsdC1ydGRiLmZpcmViYXNlaW8uY29tXCIsXHJcblx0cHJvamVjdElkOiBcImxpY2VuY2phdC0yYTAxM1wiLFxyXG5cdHN0b3JhZ2VCdWNrZXQ6IFwibGljZW5jamF0LTJhMDEzLmFwcHNwb3QuY29tXCIsXHJcblx0bWVzc2FnaW5nU2VuZGVySWQ6IFwiNjc2NjkwMTY0NDA3XCIsXHJcblx0YXBwSWQ6IFwiMTo2NzY2OTAxNjQ0MDc6d2ViOmIyMzRjNzRmNmY3NzFmNTlhMWFiMzJcIixcclxufTtcclxuXHJcbmNvbnN0IGFwcCA9IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpO1xyXG5jb25zdCBkYiA9IGdldERhdGFiYXNlKGFwcCk7XHJcbmNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XHJcblxyXG5jb25zdCBwYXNzd29yZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGFzc3dvcmRcIik7XHJcbmNvbnN0IGVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWlsXCIpO1xyXG5jb25zdCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dpblwiKTtcclxuY29uc3QgZXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLXRleHRcIik7XHJcbmNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZVwiKTtcclxuY29uc3Qgc2lnbmluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWduLWluXCIpO1xyXG5jb25zdCBzaWdub3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWduLW91dFwiKTtcclxuY29uc3QgcmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdWx0c1wiKTtcclxuXHJcbmNvbnN0IHNob3dFcnIgPSAoaW5wdXQsIG1zZykgPT4ge1xyXG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xyXG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLXRleHRcIik7XHJcblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIik7XHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2c7XHJcbn07XHJcblxyXG5zZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChhdXRoLCBlbWFpbC52YWx1ZSwgcGFzc3dvcmQudmFsdWUpXHJcblx0XHQudGhlbigodXNlckNyZWRlbnRpYWwpID0+IHtcclxuXHRcdFx0Ly8gU2lnbmVkIGluXHJcblx0XHRcdGNvbnN0IHVzZXIgPSB1c2VyQ3JlZGVudGlhbC51c2VyO1xyXG5cdFx0XHRjb25zdCBsZ0RhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHQvLyAuLi5cclxuXHRcdFx0dXBkYXRlKHJlZihkYiwgXCJ1c2Vycy9cIiArIHVzZXIudWlkKSwge1xyXG5cdFx0XHRcdGxhc3RfbG9naW46IGxnRGF0ZSxcclxuXHRcdFx0fSlcclxuXHRcdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHRlbWFpbC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdFx0XHRwYXNzd29yZC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdFx0XHRlcnJvci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuXHRcdFx0XHRcdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJ1c2VyXCIsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcclxuXHRcdFx0XHRcdGxvY2F0aW9uLmhyZWYgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9pbmRleC5odG1sXCI7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goKGVycm9yKSA9PiB7XHJcblx0XHRcdFx0XHRhbGVydChcImVycm9yIFwiICsgZXJyb3IpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSlcclxuXHRcdC5jYXRjaCgoZXJyb3IpID0+IHtcclxuXHRcdFx0c2hvd0VycihlbWFpbCwgXCJVxbx5dGtvd25payBuaWUgaXN0bmllamVcIik7XHJcblx0XHR9KTtcclxufSk7XHJcblxyXG5zaWdub3V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRzaWduT3V0KGF1dGgpXHJcblx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJ1c2VyXCIpO1xyXG5cdFx0XHRsb2NhdGlvbi5ocmVmID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvaW5kZXguaHRtbFwiO1xyXG5cdFx0fSlcclxuXHRcdC5jYXRjaCgoZXJyb3IpID0+IHtcclxuXHRcdFx0YWxlcnQoXCJixYLEhWQgcHJ6eSB3eWxvZ293eXdhbml1XCIpO1xyXG5cdFx0fSk7XHJcbn0pO1xyXG4iXX0=
